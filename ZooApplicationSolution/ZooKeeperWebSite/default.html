<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    <h1>Zoo Application</h1>
    <h2>Zoo Keeper</h2>
    <h3>Get</h3>
    <div id="get-animal">
    </div>
    <h3>Post</h3>
    <div id="post-animal">
    </div>
    <h3>Put</h3>
    <div id="put-animal">
    </div>
    <h3>Delete</h3>
    <div id="delete-animal">
    </div>
    <script type="text/javascript">
        var baseAddress = "http://localhost:59255/";

        function getAnimalCallBack(responseText) {
            document.getElementById("get-animal").innerHTML = responseText;
        }

        function postAnimalCallBack(responseText) {
            document.getElementById("post-animal").innerHTML = responseText;
        }

        function putAnimalCallBack(responseText) {
            document.getElementById("put-animal").innerHTML = responseText;
        }

        function deleteAnimalCallBack(responseText) {
            document.getElementById("delete-animal").innerHTML = responseText;
        }

        function getAnimal(id, callBack)
        {
            var request = new XMLHttpRequest();
            request.open("GET", baseAddress + "api/Animal/" + id, false);
            request.send();

            callBack(request.responseText);
        }

        function postAnimal(callBack)
        {
            var request = new XMLHttpRequest();
            request.open("POST", baseAddress + "api/Animal/")
            request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            request.onload = function () {
                if (request.status === 200) {
                    callBack(request.responseText);
                }
            };

            request.send(JSON.stringify({ name: 'AnimalNamePOST', dateofbirth: "2012-04-23" }));
        }

        function putAnimal(id, callBack)
        {
            var request = new XMLHttpRequest();
            request.open("PUT", baseAddress + "api/Animal/" + id)
            request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            request.onload = function () {
                if (request.status === 200) {
                    callBack(request.responseText);
                }
            };

            request.send(JSON.stringify({ name: 'AnimalNamePUT' + Math.floor(Math.random() * 20), dateofbirth: "2012-04-23" }));
        }

        function deleteAnimal(id, callBack) {
            var request = new XMLHttpRequest();
            request.open("DELETE", baseAddress + "api/Animal/" + id, false);
            request.send();

            callBack(request.responseText);
        }

        postAnimal(postAnimalCallBack);

        var animalId = "98c375a5-eec8-4f8d-90e1-e80a8b3385cd";

        getAnimal(animalId, getAnimalCallBack);

        putAnimal(animalId, putAnimalCallBack);

        getAnimal(animalId, getAnimalCallBack);

        deleteAnimal(animalId, deleteAnimalCallBack);
        



    </script>
</body>
</html>
